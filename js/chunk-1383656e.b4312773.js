(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1383656e"],{"057f":function(e,t,n){var o=n("c6b6"),r=n("fc6a"),a=n("241c").f,c=n("4dae"),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return a(e)}catch(t){return c(i)}};e.exports.f=function(e){return i&&"Window"==o(e)?l(e):a(r(e))}},"428f":function(e,t,n){var o=n("da84");e.exports=o},"4dae":function(e,t,n){var o=n("da84"),r=n("23cb"),a=n("07fa"),c=n("8418"),i=o.Array,l=Math.max;e.exports=function(e,t,n){for(var o=a(e),d=r(t,o),s=r(void 0===n?o:n,o),u=i(l(s-d,0)),b=0;d<s;d++,b++)c(u,b,e[d]);return u.length=b,u}},5974:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r={class:"container"},a={class:"table align-middle"},c=Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",null,"圖片"),Object(o["createElementVNode"])("th",null,"商品名稱"),Object(o["createElementVNode"])("th",null,"價格"),Object(o["createElementVNode"])("th")])],-1),i={style:{width:"200px"}},l={style:{height:"100px","background-size":"cover","background-position":"center"}},d=["src"],s={class:"h6"},u={class:"h5"},b={class:"btn-group btn-group-sm"},p=["onClick"],f=["disabled","onClick"],m={key:0,class:"fas fa-spinner fa-pulse"},g=Object(o["createTextVNode"])(" 加到購物車 "),O={class:"text-center"};function h(e,t,n,h,j,y){var v=Object(o["resolveComponent"])("Pagination"),E=Object(o["resolveComponent"])("ProductModal"),N=Object(o["resolveComponent"])("NotifyModal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createElementVNode"])("table",a,[c,Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(j.products,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:t},[Object(o["createElementVNode"])("td",i,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("img",{src:e.imageUrl,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,d)])]),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.title),1),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("del",s,"原價 "+Object(o["toDisplayString"])(e.origin_price)+" 元",1),Object(o["createElementVNode"])("div",u," 現在只要 "+Object(o["toDisplayString"])(e.price)+" 元 ",1)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(t){return y.showProductModal(e.id)}}," 查看更多 ",8,p),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",disabled:j.isLoading&&j.loadingItemId===e.id,onClick:function(t){return y.addProduct({productId:e.id,quantity:1})}},[j.isLoading&&j.loadingItemId===e.id?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",m)):Object(o["createCommentVNode"])("",!0),g],8,f)])])])})),128))])]),Object(o["createElementVNode"])("div",O,[Object(o["createVNode"])(v,{"prop-pagination":j.pagination,onSetCurrentPage:y.getProducts},null,8,["prop-pagination","onSetCurrentPage"])]),Object(o["createVNode"])(E,{ref:"productModal","prop-product":j.product,onAddProduct:y.addProduct},null,8,["prop-product","onAddProduct"]),Object(o["createVNode"])(N,{ref:"notifyModal","prop-title":j.title,"prop-success":j.success,"prop-msg":j.message},null,8,["prop-title","prop-success","prop-msg"])])}n("d3b7"),n("7db0");var j=n("7b17"),y=n("8e44"),v={"aria-label":"Page navigation",class:"d-inline-block"},E={class:"pagination"},N=["aria-current"],V=["onClick"];function k(e,t,n,r,a,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("nav",v,[Object(o["createElementVNode"])("ul",E,[Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])(["page-item",{disabled:!a.pagination.has_pre}])},[Object(o["createElementVNode"])("button",{class:"page-link",onClick:t[0]||(t[0]=function(e){return c.setCurrentPage(a.pagination.current_page-1)})}," Previous ")],2),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.pagination.total_pages,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t,class:Object(o["normalizeClass"])(["page-item",{active:a.pagination.current_page===e}]),"aria-current":a.pagination.current_page===e?"page":null},[Object(o["createElementVNode"])("button",{class:"page-link",onClick:function(t){return c.setCurrentPage(e)}},Object(o["toDisplayString"])(e),9,V)],10,N)})),128)),Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])(["page-item",{disabled:!a.pagination.has_next}])},[Object(o["createElementVNode"])("button",{class:"page-link",onClick:t[1]||(t[1]=function(e){return c.setCurrentPage(a.pagination.current_page+1)})}," Next ")],2)])])}var w={props:{propPagination:{type:Object,default:function(){return{current_page:1,has_next:!1,has_pre:!1,total_pages:1}}}},emits:["set-current-page"],data:function(){return{pagination:{}}},watch:{propPagination:function(){this.pagination=this.propPagination}},methods:{setCurrentPage:function(e){this.$emit("set-current-page",e)}}},P=n("6b0d"),S=n.n(P);const C=S()(w,[["render",k]]);var M=C,x=(n("a4d3"),n("e01a"),{id:"productInfoModal",ref:"modal",class:"modal fade",tabindex:"-1",role:"dialog","aria-labelledby":"productInfoModalLabel","aria-hidden":"true"}),B={class:"modal-dialog modal-xl",role:"document"},_={class:"modal-content border-0"},D={class:"modal-header bg-dark text-white"},I={id:"productInfoModalLabel",class:"modal-title"},$=Object(o["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),q={class:"modal-body"},L={class:"row"},z={class:"col-sm-6"},A=["src"],T={class:"col-sm-6"},F={class:"badge bg-primary rounded-pill"},J={class:"h6"},U={class:"h5"},K={class:"input-group"},Q=["disabled"];function R(e,t,n,r,a,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",x,[Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",D,[Object(o["createElementVNode"])("h5",I,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.product.title),1)]),$]),Object(o["createElementVNode"])("div",q,[Object(o["createElementVNode"])("div",L,[Object(o["createElementVNode"])("div",z,[Object(o["createElementVNode"])("img",{class:"img-fluid",src:a.product.imageUrl,alt:""},null,8,A)]),Object(o["createElementVNode"])("div",T,[Object(o["createElementVNode"])("span",F,Object(o["toDisplayString"])(a.product.category),1),Object(o["createElementVNode"])("p",null,"商品描述："+Object(o["toDisplayString"])(a.product.description),1),Object(o["createElementVNode"])("p",null,"商品內容："+Object(o["toDisplayString"])(a.product.content),1),Object(o["createElementVNode"])("del",J,"原價 "+Object(o["toDisplayString"])(a.product.origin_price)+" 元",1),Object(o["createElementVNode"])("div",U," 現在只要 "+Object(o["toDisplayString"])(a.product.price)+" 元 ",1),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",K,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.quantity=e}),type:"number",class:"form-control",min:"1"},null,512),[[o["vModelText"],a.quantity]]),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-primary",disabled:a.done,onClick:t[1]||(t[1]=function(e){return c.addProduct(a.product.id,a.quantity)})}," 加入購物車 ",8,Q)])])])])])])])],512)}var W={props:{propProduct:{type:Object,default:function(){return{}}}},emits:["add-product"],data:function(){return{product:{},quantity:1,done:!1}},watch:{propProduct:function(){this.product=this.propProduct,this.quantity=1,this.done=!1},quantity:function(){this.done=!1}},mounted:function(){},methods:{addProduct:function(e,t){this.done=!0,this.$emit("add-product",{productId:e,quantity:t})}}};const G=S()(W,[["render",R]]);var H=G,X={id:"modal",ref:"modal",class:"modal fade",tabindex:"-1","aria-labelledby":"modalLabel","aria-hidden":"true"},Y={class:"modal-dialog"},Z={class:"modal-content"},ee={class:"modal-header"},te={id:"modalLabel",class:"modal-title"},ne=Object(o["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),oe={class:"modal-body"},re={class:"modal-footer"},ae=Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);function ce(e,t,n,r,a,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",X,[Object(o["createElementVNode"])("div",Y,[Object(o["createElementVNode"])("div",Z,[Object(o["createElementVNode"])("div",ee,[Object(o["createElementVNode"])("h5",te,Object(o["toDisplayString"])(a.title),1),ne]),Object(o["createElementVNode"])("div",oe,Object(o["toDisplayString"])(a.message),1),Object(o["createElementVNode"])("div",re,[ae,Object(o["createElementVNode"])("button",{type:"button",class:Object(o["normalizeClass"])(["btn btn-primary",a.success?"btn-primary":"btn-danger"]),"data-bs-dismiss":"modal"}," OK ",2)])])])],512)}var ie={props:{propTitle:{type:String,default:"結果"},propMsg:{type:String,default:""},propSuccess:{type:Boolean,default:!1}},data:function(){return{title:"",message:"",success:!1,modal:null}},watch:{propTitle:function(e){this.title=e},propMsg:function(e){this.message=e},propSuccess:function(e){this.success=e}},mounted:function(){this.modal=this.$refs.modal}};const le=S()(ie,[["render",ce]]);var de=le,se={components:{Pagination:M,ProductModal:H,NotifyModal:de},data:function(){return{product:{},products:[],isLoading:!1,loadingItemId:"",pagination:{current_page:1,has_next:!1,has_pre:!1,total_pages:1},productModal:null,notifyModal:null,success:!1,message:"",title:""}},mounted:function(){this.getProducts(),this.productModal=new j["a"](this.$refs.productModal.$refs.modal,{keyboard:!1,backdrop:"static"}),this.notifyModal=new j["a"](this.$refs.notifyModal.$refs.modal)},methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.$loading.show();y["b"].getProducts(t).then((function(t){var n=t.data,o=n.products,r=n.pagination;e.products=o,e.pagination=r})).catch((function(e){console.dir(e)})).finally((function(){n.hide()}))},showProductModal:function(e){this.product=this.products.find((function(t){return t.id===e})),this.productModal.show()},addProduct:function(e){var t=this,n=e.productId,o=e.quantity;this.productModal.hide(),this.title="購物車";var r=this.$loading.show();y["b"].addProduct(n,o).then((function(e){var n=e.data,o=n.success,r=n.message;t.success=o,t.message=r,t.notifyModal.show()})).catch((function(){t.success=!1,t.message="加入購物車失敗",t.notifyModal.show()})).finally((function(){r.hide()}))}}};const ue=S()(se,[["render",h]]);t["default"]=ue},"746f":function(e,t,n){var o=n("428f"),r=n("1a2d"),a=n("e538"),c=n("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});r(t,e)||c(t,e,{value:a.f(e)})}},"7db0":function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").find,a=n("44d2"),c="find",i=!0;c in[]&&Array(1)[c]((function(){i=!1})),o({target:"Array",proto:!0,forced:i},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(c)},a4d3:function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),a=n("d066"),c=n("2ba4"),i=n("c65b"),l=n("e330"),d=n("c430"),s=n("83ab"),u=n("4930"),b=n("d039"),p=n("1a2d"),f=n("e8b5"),m=n("1626"),g=n("861d"),O=n("3a9b"),h=n("d9b5"),j=n("825a"),y=n("7b0b"),v=n("fc6a"),E=n("a04b"),N=n("577e"),V=n("5c6c"),k=n("7c73"),w=n("df75"),P=n("241c"),S=n("057f"),C=n("7418"),M=n("06cf"),x=n("9bf2"),B=n("37e8"),_=n("d1e7"),D=n("f36a"),I=n("6eeb"),$=n("5692"),q=n("f772"),L=n("d012"),z=n("90e3"),A=n("b622"),T=n("e538"),F=n("746f"),J=n("d44e"),U=n("69f3"),K=n("b727").forEach,Q=q("hidden"),R="Symbol",W="prototype",G=A("toPrimitive"),H=U.set,X=U.getterFor(R),Y=Object[W],Z=r.Symbol,ee=Z&&Z[W],te=r.TypeError,ne=r.QObject,oe=a("JSON","stringify"),re=M.f,ae=x.f,ce=S.f,ie=_.f,le=l([].push),de=$("symbols"),se=$("op-symbols"),ue=$("string-to-symbol-registry"),be=$("symbol-to-string-registry"),pe=$("wks"),fe=!ne||!ne[W]||!ne[W].findChild,me=s&&b((function(){return 7!=k(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=re(Y,t);o&&delete Y[t],ae(e,t,n),o&&e!==Y&&ae(Y,t,o)}:ae,ge=function(e,t){var n=de[e]=k(ee);return H(n,{type:R,tag:e,description:t}),s||(n.description=t),n},Oe=function(e,t,n){e===Y&&Oe(se,t,n),j(e);var o=E(t);return j(n),p(de,o)?(n.enumerable?(p(e,Q)&&e[Q][o]&&(e[Q][o]=!1),n=k(n,{enumerable:V(0,!1)})):(p(e,Q)||ae(e,Q,V(1,{})),e[Q][o]=!0),me(e,o,n)):ae(e,o,n)},he=function(e,t){j(e);var n=v(t),o=w(n).concat(Ne(n));return K(o,(function(t){s&&!i(ye,n,t)||Oe(e,t,n[t])})),e},je=function(e,t){return void 0===t?k(e):he(k(e),t)},ye=function(e){var t=E(e),n=i(ie,this,t);return!(this===Y&&p(de,t)&&!p(se,t))&&(!(n||!p(this,t)||!p(de,t)||p(this,Q)&&this[Q][t])||n)},ve=function(e,t){var n=v(e),o=E(t);if(n!==Y||!p(de,o)||p(se,o)){var r=re(n,o);return!r||!p(de,o)||p(n,Q)&&n[Q][o]||(r.enumerable=!0),r}},Ee=function(e){var t=ce(v(e)),n=[];return K(t,(function(e){p(de,e)||p(L,e)||le(n,e)})),n},Ne=function(e){var t=e===Y,n=ce(t?se:v(e)),o=[];return K(n,(function(e){!p(de,e)||t&&!p(Y,e)||le(o,de[e])})),o};if(u||(Z=function(){if(O(ee,this))throw te("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?N(arguments[0]):void 0,t=z(e),n=function(e){this===Y&&i(n,se,e),p(this,Q)&&p(this[Q],t)&&(this[Q][t]=!1),me(this,t,V(1,e))};return s&&fe&&me(Y,t,{configurable:!0,set:n}),ge(t,e)},ee=Z[W],I(ee,"toString",(function(){return X(this).tag})),I(Z,"withoutSetter",(function(e){return ge(z(e),e)})),_.f=ye,x.f=Oe,B.f=he,M.f=ve,P.f=S.f=Ee,C.f=Ne,T.f=function(e){return ge(A(e),e)},s&&(ae(ee,"description",{configurable:!0,get:function(){return X(this).description}}),d||I(Y,"propertyIsEnumerable",ye,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Z}),K(w(pe),(function(e){F(e)})),o({target:R,stat:!0,forced:!u},{for:function(e){var t=N(e);if(p(ue,t))return ue[t];var n=Z(t);return ue[t]=n,be[n]=t,n},keyFor:function(e){if(!h(e))throw te(e+" is not a symbol");if(p(be,e))return be[e]},useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),o({target:"Object",stat:!0,forced:!u,sham:!s},{create:je,defineProperty:Oe,defineProperties:he,getOwnPropertyDescriptor:ve}),o({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:Ee,getOwnPropertySymbols:Ne}),o({target:"Object",stat:!0,forced:b((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(y(e))}}),oe){var Ve=!u||b((function(){var e=Z();return"[null]"!=oe([e])||"{}"!=oe({a:e})||"{}"!=oe(Object(e))}));o({target:"JSON",stat:!0,forced:Ve},{stringify:function(e,t,n){var o=D(arguments),r=t;if((g(t)||void 0!==e)&&!h(e))return f(t)||(t=function(e,t){if(m(r)&&(t=i(r,this,e,t)),!h(t))return t}),o[1]=t,c(oe,null,o)}})}if(!ee[G]){var ke=ee.valueOf;I(ee,G,(function(e){return i(ke,this)}))}J(Z,R),L[Q]=!0},b727:function(e,t,n){var o=n("0366"),r=n("e330"),a=n("44ad"),c=n("7b0b"),i=n("07fa"),l=n("65f0"),d=r([].push),s=function(e){var t=1==e,n=2==e,r=3==e,s=4==e,u=6==e,b=7==e,p=5==e||u;return function(f,m,g,O){for(var h,j,y=c(f),v=a(y),E=o(m,g),N=i(v),V=0,k=O||l,w=t?k(f,N):n||b?k(f,0):void 0;N>V;V++)if((p||V in v)&&(h=v[V],j=E(h,V,y),e))if(t)w[V]=j;else if(j)switch(e){case 3:return!0;case 5:return h;case 6:return V;case 2:d(w,h)}else switch(e){case 4:return!1;case 7:d(w,h)}return u?-1:r||s?s:w}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},e01a:function(e,t,n){"use strict";var o=n("23e7"),r=n("83ab"),a=n("da84"),c=n("e330"),i=n("1a2d"),l=n("1626"),d=n("3a9b"),s=n("577e"),u=n("9bf2").f,b=n("e893"),p=a.Symbol,f=p&&p.prototype;if(r&&l(p)&&(!("description"in f)||void 0!==p().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=d(f,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};b(g,p),g.prototype=f,f.constructor=g;var O="Symbol(test)"==String(p("test")),h=c(f.toString),j=c(f.valueOf),y=/^Symbol\((.*)\)[^)]+$/,v=c("".replace),E=c("".slice);u(f,"description",{configurable:!0,get:function(){var e=j(this),t=h(e);if(i(m,e))return"";var n=O?E(t,7,-1):v(t,y,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:g})}},e538:function(e,t,n){var o=n("b622");t.f=o}}]);
//# sourceMappingURL=chunk-1383656e.b4312773.js.map