(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bfd36be"],{1799:function(e,t,n){"use strict";var a=n("7a23"),c={"aria-label":"Page navigation",class:"d-inline-block"},o={class:"pagination"},r=["aria-current"],i=["onClick"];function l(e,t,n,l,s,d){return Object(a["openBlock"])(),Object(a["createElementBlock"])("nav",c,[Object(a["createElementVNode"])("ul",o,[Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["page-item",{disabled:!s.pagination.has_pre}])},[Object(a["createElementVNode"])("button",{class:"page-link",onClick:t[0]||(t[0]=function(e){return d.setCurrentPage(s.pagination.current_page-1)})}," Previous ")],2),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(s.pagination.total_pages,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:t,class:Object(a["normalizeClass"])(["page-item",{active:s.pagination.current_page===e}]),"aria-current":s.pagination.current_page===e?"page":null},[Object(a["createElementVNode"])("button",{class:"page-link",onClick:function(t){return d.setCurrentPage(e)}},Object(a["toDisplayString"])(e),9,i)],10,r)})),128)),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["page-item",{disabled:!s.pagination.has_next}])},[Object(a["createElementVNode"])("button",{class:"page-link",onClick:t[1]||(t[1]=function(e){return d.setCurrentPage(s.pagination.current_page+1)})}," Next ")],2)])])}var s={props:{propPagination:{type:Object,default:function(){return{current_page:1,has_next:!1,has_pre:!1,total_pages:1}}}},emits:["set-current-page"],data:function(){return{pagination:{}}},watch:{propPagination:function(){this.pagination=this.propPagination}},methods:{setCurrentPage:function(e){this.$emit("set-current-page",e)}}},d=n("6b0d"),u=n.n(d);const p=u()(s,[["render",l]]);t["a"]=p},"7db0":function(e,t,n){"use strict";var a=n("23e7"),c=n("b727").find,o=n("44d2"),r="find",i=!0;r in[]&&Array(1)[r]((function(){i=!1})),a({target:"Array",proto:!0,forced:i},{find:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),o(r)},b727:function(e,t,n){var a=n("0366"),c=n("e330"),o=n("44ad"),r=n("7b0b"),i=n("07fa"),l=n("65f0"),s=c([].push),d=function(e){var t=1==e,n=2==e,c=3==e,d=4==e,u=6==e,p=7==e,b=5==e||u;return function(m,g,f,j){for(var O,h,E=r(m),N=o(E),V=a(g,f),v=i(N),y=0,k=j||l,P=t?k(m,v):n||p?k(m,0):void 0;v>y;y++)if((b||y in N)&&(O=N[y],h=V(O,y,E),e))if(t)P[y]=h;else if(h)switch(e){case 3:return!0;case 5:return O;case 6:return y;case 2:s(P,O)}else switch(e){case 4:return!1;case 7:s(P,O)}return u?-1:c||d?d:P}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},dc0d:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c={class:"container col-md-8"},o={class:"table"},r=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",{width:"120"}," 分類 "),Object(a["createElementVNode"])("th",null,"產品名稱"),Object(a["createElementVNode"])("th",{width:"120"}," 原價 "),Object(a["createElementVNode"])("th",{width:"120"}," 售價 "),Object(a["createElementVNode"])("th",{width:"100"}," 是否啟用 ")])],-1),i={scope:"row"},l=["id","onUpdate:modelValue","onChange"],s=["for"],d={class:"text-center"};function u(e,t,n,u,p,b){var m=Object(a["resolveComponent"])("Pagination"),g=Object(a["resolveComponent"])("NotifyModal");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("table",o,[r,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(p.products,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t},[Object(a["createElementVNode"])("th",i,Object(a["toDisplayString"])(e.category),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.title),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.origin_price),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.price),1),Object(a["createElementVNode"])("td",null,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{id:"checkbox-".concat(t),"onUpdate:modelValue":function(t){return e.is_enabled=t},class:"form-check-input me-1",type:"checkbox",onChange:function(t){return b.setProduct(e.id,e.is_enabled)}},null,40,l),[[a["vModelCheckbox"],e.is_enabled]]),Object(a["createElementVNode"])("label",{for:"checkbox-".concat(t)},Object(a["toDisplayString"])(e.is_enabled),9,s)])])})),128))])]),Object(a["createElementVNode"])("div",d,[Object(a["createVNode"])(m,{"prop-pagination":p.pagination,onSetCurrentPage:b.getProducts},null,8,["prop-pagination","onSetCurrentPage"])])]),Object(a["createVNode"])(g,{ref:"modal","prop-title":p.title,"prop-success":p.success,"prop-msg":p.message},null,8,["prop-title","prop-success","prop-msg"])],64)}n("d3b7"),n("7db0");var p=n("7b17"),b=n("8e44"),m=n("f5f1"),g=n("1799"),f={components:{NotifyModal:m["a"],Pagination:g["a"]},data:function(){return{products:[],pagination:{},title:"",success:!1,message:"",notifyModal:null}},mounted:function(){this.getProducts(),this.notifyModal=new p["a"](this.$refs.modal.$el)},methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.$loading.show();b["a"].getProducts(t).then((function(t){var n=t.data,a=n.pagination,c=n.products;e.pagination=a,e.products=c})).catch((function(){})).finally((function(){n.hide()}))},setProduct:function(e,t){var n=this,a=this.products.find((function(t){return t.id===e})),c=this.$loading.show();a.is_enabled=t,b["a"].updateProduct(a).then((function(e){var t=e.data,a=t.success,c=t.message;n.title="更新結果",n.success=a,n.message=c,n.getProducts()})).catch((function(){})).finally((function(){c.hide(),n.notifyModal.show()}))}}},j=n("6b0d"),O=n.n(j);const h=O()(f,[["render",u]]);t["default"]=h},f5f1:function(e,t,n){"use strict";var a=n("7a23"),c={id:"modal",ref:"modal",class:"modal fade",tabindex:"-1","aria-labelledby":"modalLabel","aria-hidden":"true"},o={class:"modal-dialog"},r={class:"modal-content"},i={class:"modal-header"},l={id:"modalLabel",class:"modal-title"},s=Object(a["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),d={class:"modal-body"},u={class:"modal-footer"};function p(e,t,n,p,b,m){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("h5",l,Object(a["toDisplayString"])(b.title),1),s]),Object(a["createElementVNode"])("div",d,Object(a["toDisplayString"])(b.message),1),Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("button",{type:"button",class:Object(a["normalizeClass"])(["btn btn-primary",b.success?"btn-primary":"btn-danger"]),"data-bs-dismiss":"modal"}," OK ",2)])])])],512)}var b={props:{propTitle:{type:String,default:"結果"},propMsg:{type:String,default:""},propSuccess:{type:Boolean,default:!1}},data:function(){return{title:"",message:"",success:!1,modal:null}},watch:{propTitle:function(e){this.title=e},propMsg:function(e){this.message=e},propSuccess:function(e){this.success=e}},mounted:function(){this.modal=this.$refs.modal}},m=n("6b0d"),g=n.n(m);const f=g()(b,[["render",p]]);t["a"]=f}}]);
//# sourceMappingURL=chunk-4bfd36be.edc53356.js.map